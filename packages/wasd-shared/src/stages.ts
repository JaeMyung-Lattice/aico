import type { TileMap, ObstacleConfig } from './types.js'

// 20x15 타일맵 (MAP_COLS x MAP_ROWS)
// 0=EMPTY, 1=WALL, 2=COIN, 3=START, 4=GOAL

// Stage 1: Tutorial (5 coins)
const STAGE_1: TileMap = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,3,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,1,0,0,0,0,0,0,0,2,0,0,0,0,1],
  [1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,2,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
]

// Stage 2: Intermediate (8 coins)
const STAGE_2: TileMap = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,3,0,0,2,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,1,0,0,0,0,2,0,0,0,0,1,0,0,1],
  [1,0,1,1,1,0,1,0,0,1,1,1,1,0,0,0,1,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1],
  [1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1],
  [1,0,0,0,0,2,0,0,0,0,0,0,1,0,0,0,2,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1],
  [1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,2,0,1],
  [1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,0,1],
  [1,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
]

// Stage 3: Hard (10 coins)
const STAGE_3: TileMap = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,3,0,2,0,1,0,0,0,0,0,0,0,1,0,0,2,0,0,1],
  [1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
  [1,1,1,0,0,0,0,1,1,0,0,2,0,0,0,1,1,1,0,1],
  [1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1],
  [1,0,0,1,1,1,1,0,0,0,1,1,1,0,0,0,0,2,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1],
  [1,2,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,1],
  [1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1],
  [1,0,0,0,1,0,2,0,0,0,0,0,1,0,0,0,0,1,0,1],
  [1,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,1,0,1],
  [1,1,1,0,0,1,1,1,0,0,1,0,0,1,1,0,0,0,0,1],
  [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,1],
  [1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
]

export const STAGES: readonly TileMap[] = [STAGE_1, STAGE_2, STAGE_3]

// 스테이지별 장애물 설정
const STAGE_3_OBSTACLES: ObstacleConfig[] = [
  {
    id: 'obs-1',
    waypoints: [{ x: 40, y: 136 }, { x: 264, y: 136 }],
    speed: 2,
    size: { width: 16, height: 16 },
  },
  {
    id: 'obs-2',
    waypoints: [{ x: 232, y: 200 }, { x: 456, y: 200 }],
    speed: 1.5,
    size: { width: 16, height: 16 },
  },
  {
    id: 'obs-3',
    waypoints: [{ x: 104, y: 392 }, { x: 520, y: 392 }],
    speed: 2.5,
    size: { width: 16, height: 16 },
  },
]

export const STAGE_OBSTACLES: readonly (readonly ObstacleConfig[])[] = [
  [],
  [],
  STAGE_3_OBSTACLES,
]
